<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.4.553">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Applied Econometrics with R (online) - 4&nbsp; Specification and Assessment Issues</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
  margin-bottom: 0em;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./conclusion.html" rel="next">
<link href="./multivariate.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>
<script>
window.MathJax = {
  tex: {
    tags: 'ams'
  }
};
</script>

  <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./assessment.html"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Specification and Assessment Issues</span></a></li></ol></nav>
        <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="./">Applied Econometrics with <code>R</code> (online)</a> 
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Introduction</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./linear_regression.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Regression Analysis in the Social Sciences</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./multivariate.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Modeling in the Social Sciences</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./assessment.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Specification and Assessment Issues</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./conclusion.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">In conclusion</span></span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./appendix.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Reviewing probability and statistics</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sec-specificationmodel" id="toc-sec-specificationmodel" class="nav-link active" data-scroll-target="#sec-specificationmodel"><span class="header-section-number">4.1</span> Specification of your model</a></li>
  <li><a href="#sec-presentation" id="toc-sec-presentation" class="nav-link" data-scroll-target="#sec-presentation"><span class="header-section-number">4.2</span> Presentation of results</a></li>
  <li><a href="#sec-sourcesbias" id="toc-sec-sourcesbias" class="nav-link" data-scroll-target="#sec-sourcesbias"><span class="header-section-number">4.3</span> Potential sources of bias</a>
  <ul>
  <li><a href="#threats-to-external-validity" id="toc-threats-to-external-validity" class="nav-link" data-scroll-target="#threats-to-external-validity"><span class="header-section-number">4.3.1</span> Threats to external validity</a></li>
  <li><a href="#threats-to-internal-validity" id="toc-threats-to-internal-validity" class="nav-link" data-scroll-target="#threats-to-internal-validity"><span class="header-section-number">4.3.2</span> Threats to internal validity</a>
  <ul class="collapse">
  <li><a href="#omitted-variable-bias" id="toc-omitted-variable-bias" class="nav-link" data-scroll-target="#omitted-variable-bias"><span class="header-section-number">4.3.2.1</span> Omitted variable bias</a></li>
  <li><a href="#wrong-functional-form" id="toc-wrong-functional-form" class="nav-link" data-scroll-target="#wrong-functional-form"><span class="header-section-number">4.3.2.2</span> Wrong functional form</a></li>
  <li><a href="#errors-in-variables-bias-or-measurement-error" id="toc-errors-in-variables-bias-or-measurement-error" class="nav-link" data-scroll-target="#errors-in-variables-bias-or-measurement-error"><span class="header-section-number">4.3.2.3</span> Errors-in-variables bias or measurement error</a></li>
  <li><a href="#sample-selection-bias" id="toc-sample-selection-bias" class="nav-link" data-scroll-target="#sample-selection-bias"><span class="header-section-number">4.3.2.4</span> Sample selection bias</a></li>
  <li><a href="#simultaneous-causality-bias-in-equations" id="toc-simultaneous-causality-bias-in-equations" class="nav-link" data-scroll-target="#simultaneous-causality-bias-in-equations"><span class="header-section-number">4.3.2.5</span> Simultaneous causality bias in equations</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#sec:conclusionspec" id="toc-sec:conclusionspec" class="nav-link" data-scroll-target="#sec\:conclusionspec"><span class="header-section-number">4.4</span> Concluding remarks</a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title"><span id="sec-specification" class="quarto-section-identifier"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Specification and Assessment Issues</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>This concluding chapter deals with an epistemological question, namely how to convey your key results, and an ontological question, how do you know whether what you convey is true (e.g., unbiased). To do so, we first look at specification issues in <a href="#sec-specificationmodel" class="quarto-xref"><span>Section 4.1</span></a>. Which variables should you include? Thereafter, <a href="#sec-presentation" class="quarto-xref"><span>Section 4.2</span></a> discusses how to present your results. And, subsequently, <a href="#sec-sourcesbias" class="quarto-xref"><span>Section 4.3</span></a> deals with the question about the validity of your results. When do you know that you really obtained estimated an <strong>unbiased</strong> parameter. The final section concludes.</p>
<section id="sec-specificationmodel" class="level2" data-number="4.1">
<h2 data-number="4.1" class="anchored" data-anchor-id="sec-specificationmodel"><span class="header-section-number">4.1</span> Specification of your model</h2>
<p>A long-standing but simple question is how to decide which variables to include in a regression model. Unfortunately, the answer to this question is rather complex. A straightforward but naive approach would be to include them all! So, throw every variable in that is in your database. This, however, leads to “causal salad” <span class="citation" data-cites="mcelreath2020statistical">(a term coined by <a href="references.html#ref-mcelreath2020statistical" role="doc-biblioref">McElreath 2020</a>)</span> as displayed in Figure <a href="#fig-causalsalad" class="quarto-xref">Figure&nbsp;<span>4.1</span></a> and can actually lead to a biased estimator. One reason for this is that if you include a variable that is related to the error term then all other parameters are biased as well.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-causalsalad" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-causalsalad-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./figures/causalsalad.jpg" class="img-fluid quarto-figure quarto-figure-center figure-img" width="600">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-causalsalad-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.1: Causal salad
</figcaption>
</figure>
</div>
</div>
</div>
<p>So, for the final time we return to our Californian school district data and now try to devise a specification that <em>mimimizes</em> the changes upon biased estimator. So, our focus is to get an unbiased estimate of the effect on test scores of changing class size, holding constant student and school characteristics but not necessarily holding constant the budget (we do not want to control for budget as this actually governs class sizes).</p>
<p>To do this we need to think about what variables to include and what regressions to run—and we should do this before we actually sit down at the computer. Think beforehand about your model specification and try to avoid throwing everything in (your causal salad).</p>
<p>In practice, and especially economics, most follow the following general approach to variable selection and model specification:</p>
<ol type="1">
<li>First you specify a base or benchmark model. In this case that is the univariate regression of test scores on class size.</li>
<li>Then you specify a range of plausible alternative models, which include additional candidate variables.</li>
<li>Then you assess whether a candidate variable changes the coefficient of interest (<span class="math inline">\(\hat{\beta}_1\)</span>)? You keep focusing on the effect of class size!</li>
<li>You assess whether a candidate variable is statistically significantly different from zero; so whether it has an impact of not.
<ul>
<li>Use judgment, not a mechanical recipe, meaning that variable statistically insignificant different from zero should not automatically be thrown out.</li>
<li>In all cases, do not just try to maximize <span class="math inline">\(\bar{R^2}\)</span>. You focus on identifying a causal effect, not on prediction.</li>
</ul></li>
</ol>
<p>Considering the last point, it is easy to fall into the trap of maximizing the <span class="math inline">\(\bar{R^2}\)</span>—but this loses sight of our real objective, an unbiased estimator of the class size effect. Recall that a high <span class="math inline">\(\bar{R^2}\)</span> means that the regressors explain the variation in <span class="math inline">\(Y\)</span>. It does <strong>not</strong> mean</p>
<ul>
<li>that you have eliminated omitted variable bias;</li>
<li>that you have an unbiased estimator of a causal effect <span class="math inline">\((\beta_1)\)</span>;</li>
<li>that the included variables are statistically significant.</li>
</ul>
<p>So, in this case, what variables would you want—ideally—to include to estimate the effect on test scores of <span class="math inline">\(STR\)</span> using school district data? There is a whole set of potential relevant variables in the California class size data set, being:</p>
<ul>
<li>student-teacher ratio (<span class="math inline">\(STR\)</span>)—the variable we focus on</li>
<li>percent English learners in the district (<span class="math inline">\(PctEL\)</span>)—as a proxy for large migrant communities</li>
<li>school expenditures per pupil—largely correlated with student-teacher ratio</li>
<li>name of the district (so we could look up average rainfall, for example)</li>
<li>percent eligible for subsidized/free lunch—proxies district income</li>
<li>percent on public income assistance—proxies district income</li>
<li>average district income—a measure for district affuency</li>
</ul>
<p>So, which of these variables would you want to include?</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-cadata" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-cadata-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./figures/cadata.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="800">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-cadata-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.2: Test scores versus various independent variables
</figcaption>
</figure>
</div>
</div>
</div>
<p>Looking at <a href="#fig-cadata" class="quarto-xref">Figure&nbsp;<span>4.2</span></a>, all three percentage variables (English learners, subsidized lunch, and income assistance) behave in a similar manner. But interestingly, the strongest relation is between subsidized lunch and test scores and that is at least the variable that we would like to include.</p>
</section>
<section id="sec-presentation" class="level2" data-number="4.2">
<h2 data-number="4.2" class="anchored" data-anchor-id="sec-presentation"><span class="header-section-number">4.2</span> Presentation of results</h2>
<p>So, we have a number of regressions (also called specifications) and we want to report them. Often, it is awkward and difficult to read regressions written out in equation form, so instead it is conventional to report them in a table. Note that reading regression estimates from computer output is even more difficult. On top of that it is ugly and contains way too much information. Try to avoid statistical computer output as much as possible—at least in your thesis. Now, regression tables should include a couple of elements:</p>
<ul>
<li>The estimated regression coefficients.</li>
<li>The standard errors or the <span class="math inline">\(t\)</span>-statistics. Having both of them is too much. Do not report <span class="math inline">\(p\)</span>-values, because often they are not informative (as they often are reported as <span class="math inline">\(p = 0.000\)</span>).</li>
<li>Some measures of fit (usually just the <span class="math inline">\(\bar{R^2}\)</span> would do).</li>
<li>The number of observations.</li>
<li>Some relevant <span class="math inline">\(F\)</span>-statistics, if any. Usually they are not included.</li>
<li>Any other pertinent information but typically there is none.</li>
</ul>
<p>You can find most of this information in the final estimation Table @ref(fig:catable) as presented in <span class="citation" data-cites="stock2003introduction">Stock, Watson, et al. (<a href="references.html#ref-stock2003introduction" role="doc-biblioref">2003</a>)</span>.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div id="fig-catable" class="quarto-figure quarto-figure-center quarto-float anchored" data-fig-align="center">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-catable-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="./figures/catable.png" class="img-fluid quarto-figure quarto-figure-center figure-img" width="800">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-catable-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;4.3: Various specifications of test score models
</figcaption>
</figure>
</div>
</div>
</div>
<p>So, here the variable of interest (student-teacher ratio) is the first variable on top. And the table keeps focusing on that one. Moreover, specification (3) and (5) seems to be preferred as they have the highest <span class="math inline">\(\bar{R^2}\)</span>, although that is perhaps of lesser importance. What we can infer from this is that the estimate for student-teacher ratio remains robust around <span class="math inline">\(-1\)</span> and is significantly different from <span class="math inline">\(0\)</span>. Does this now mean that this effect is <strong>unbiased</strong>? Most likely not, but that is something that the next section will discuss.</p>
</section>
<section id="sec-sourcesbias" class="level2" data-number="4.3">
<h2 data-number="4.3" class="anchored" data-anchor-id="sec-sourcesbias"><span class="header-section-number">4.3</span> Potential sources of bias</h2>
<p>No to include we would like to answer the question whether there is a systematic way to assess regression studies? We already have seen that multivariate regression models have some key virtues:</p>
<ol type="1">
<li>They provide an estimate of the marginal effect of the variable of interest <span class="math inline">\(X\)</span> on <span class="math inline">\(Y\)</span>.</li>
<li>They resolve the problem of omitted variable bias, if an omitted variable can be measured and included.</li>
<li>They can handle nonlinear relations (effects that vary with the <span class="math inline">\(X\)</span>’s) and therefore resolve the problem of misspecification bias.</li>
</ol>
<p>Still, OLS might yield a <strong>biased</strong> estimator of the true causal effect. In other words, it might not yield valid inferences. That what you want to measure is not what you actually measure. In general there is two ways to assess statistical studies: threats to internal and threats to external validity.</p>
<ul>
<li><strong>Internal validity</strong>: the statistical inferences about causal effects are valid for the population being studied.</li>
<li><strong>External validity</strong>: the statistical inferences can be generalized from the population and setting studied to other populations and setting.</li>
</ul>
<section id="threats-to-external-validity" class="level3" data-number="4.3.1">
<h3 data-number="4.3.1" class="anchored" data-anchor-id="threats-to-external-validity"><span class="header-section-number">4.3.1</span> Threats to external validity</h3>
<p>So, above we came to a (tentative) conclsusion about the impact of class size on test scores. But we have done so in the context of Californian school districts in the year 2005. Can we extend this finding and generalize class size results from California school districts to other population, for example to that of Massachusetts or Mexico in 2005? And can we do so for differences in institutional settings as there are different legal requirements concerning special education, different treatment of bilingual education, and differences in teacher characteristics across regions and countries.</p>
<p>We therefore always to be careful to transfer our finding to that of other settings. Note that this as well a special case of omitted variable bias but now outside the scope of our study (our population).</p>
</section>
<section id="threats-to-internal-validity" class="level3" data-number="4.3.2">
<h3 data-number="4.3.2" class="anchored" data-anchor-id="threats-to-internal-validity"><span class="header-section-number">4.3.2</span> Threats to internal validity</h3>
<p>In applied econometrics, the following five threats to the internal validity of regression studies are usually given (in statistics there is a different framework for this, but in most cases they come down to the same thing)</p>
<ol type="1">
<li>Omitted variable bias</li>
<li>Wrong functional form</li>
<li>Errors-in-variables bias or measurement error</li>
<li>Sample selection bias</li>
<li>Simultaneous causality bias</li>
</ol>
<p>All of these imply that <span class="math inline">\(E(u_i|X_{1i},\ldots,X_{ki}) \neq 0\)</span>, in which case the OLS estimates are therefore <strong>biased</strong>.</p>
<section id="omitted-variable-bias" class="level4" data-number="4.3.2.1">
<h4 data-number="4.3.2.1" class="anchored" data-anchor-id="omitted-variable-bias"><span class="header-section-number">4.3.2.1</span> Omitted variable bias</h4>
<p>Omitted variable bias arises if an omitted variable is both a determinant of <span class="math inline">\(Y\)</span> and a determinant of at least one included regressor. We first discussed omitted variable bias in regression with a single <span class="math inline">\(X\)</span>, but Omitted variable bias will arise when there are multiple <span class="math inline">\(X\)</span>’s as well, if the omitted variable satisfies the two conditions above. Fortunately, there are potential solutions to omitted variable bias</p>
<ul>
<li>If the variable can be measured, include it as an additional regressor in multiple regression;</li>
<li>Possibly, use panel data in which each entity (individual) is observed more than once;</li>
<li>If the variable cannot be measured, use instrumental variables regression (for later courses);</li>
<li>Run a randomized controlled experiment.</li>
</ul>
</section>
<section id="wrong-functional-form" class="level4" data-number="4.3.2.2">
<h4 data-number="4.3.2.2" class="anchored" data-anchor-id="wrong-functional-form"><span class="header-section-number">4.3.2.2</span> Wrong functional form</h4>
<p>This threat to internal validity arises if the functional form is incorrect. For example, if an interaction term is incorrectly omitted, then inferences on causal effects will be biased. There is a potential solution to functional form misspecification and that is to use the appropriate nonlinear specifications in <span class="math inline">\(X\)</span> (logarithms, interactions, etc.). Sometimes this is not possible and then one has to resort to direct non-linear estimation techniques.</p>
</section>
<section id="errors-in-variables-bias-or-measurement-error" class="level4" data-number="4.3.2.3">
<h4 data-number="4.3.2.3" class="anchored" data-anchor-id="errors-in-variables-bias-or-measurement-error"><span class="header-section-number">4.3.2.3</span> Errors-in-variables bias or measurement error</h4>
<p>The third threat is measurement error or sometimes know as Errors-in-variables bias. So far we have assumed that <span class="math inline">\(X\)</span> is measured without error. In reality, (economic) data is often measured with error have measurement error. Especially surveys are prone to measurement error. For example recollection errors that arise with questions as “which month did you start your current job?”. Or ambiguous questions problems as “what was your income last year?” What is meant with latter: monthly or yearly income, gross or net income? Also respondents sometimes have an incentive not to answer honestly (intentionally false response problems) with questions as “What is the current value of your financial assets?” or “How often do you drink and drive?”. There are potential solutions to errors-in-variables bias, such as</p>
<ul>
<li>Obtain better data, but that is bit easy</li>
<li>Develop a specific model of the measurement error process. This is only possible if a lot is known about the nature of the measurement error—for example a subsample of the data are cross-checked using administrative records and the discrepancies are analyzed and modeled.</li>
<li>Instrumental variables regression.</li>
</ul>
</section>
<section id="sample-selection-bias" class="level4" data-number="4.3.2.4">
<h4 data-number="4.3.2.4" class="anchored" data-anchor-id="sample-selection-bias"><span class="header-section-number">4.3.2.4</span> Sample selection bias</h4>
<p>So far we have assumed simple random sampling of the population. In some cases, simple random sampling is thwarted because the sample, in effect, <strong>selects itself</strong>. Now, then sample selection bias arises when a selection process both influences the availability of data and if that process is related to the dependent variable. To illustrate this, I will adopt a hypothetical example given by <span class="citation" data-cites="mcelreath2020statistical">McElreath (<a href="references.html#ref-mcelreath2020statistical" role="doc-biblioref">2020</a>)</span>. Here we want to look at the relation between trustworthy science and newsworthy science. This example is motivated by the fact that newsworthy science (clickbait in the social media) oftentimes turns out not to be true. To given a reason why this might, we first simulate an artificial database of 400 observations of both newsworthy and trustworthy. Both variable are constructed such that they are <span class="math inline">\(i.i.d.\)</span> and standard normally distributed. So, there is no relation whatsoever and, indeed, Figure @ref(fig:Rplot) shows a rather random cloud plot.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./figures/Rplot.png" class="img-fluid figure-img" width="600"></p>
<figcaption>Random observations of newsworthy and trustworthy</figcaption>
</figure>
</div>
</div>
</div>
<p>But what if editors on social media have a decision rule: scientific output should be either thrustworthy or newsworthy, and preferably both. So, as a rule of thumb the select only the top 10% scientific outcomes , so the ones that score in the top 10% when both scores are added up (<span class="math inline">\(\text{trustworthy} + \text{newsworthy}\)</span>). If we now depict the selected ones in grey in Figure @ref(fig:Rplot01), then clearly suddenly a negative relation emerges between newsworthiness and thrustworthiness. And that negative relation is caused by the selection (external) editors make. So, if there is a selection somewhere in the process, estimates of what you want to estimates can quickly become biased.</p>
<div class="cell" data-layout-align="center">
<div class="cell-output-display">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="./figures/Rplot01.png" class="img-fluid figure-img" width="600"></p>
<figcaption>Negative relation amongst the selected points</figcaption>
</figure>
</div>
</div>
</div>
<p>This process occurs more often than you might think. Consider the two following examples:</p>
<ol type="1">
<li><p><strong>Aircraft noise externality</strong>. Here the question is to what extent people “value” aircraft noise (that is in a negative sense)? To aim for an answer we adopt the following empirical strategy; we collect housing prices close to Schiphol airport (say Zwanenburg) and compare them with identical houses further away (say Schagen). We have data for individual housing prices (including characteristics) since 1985. As an estimator we assess then the average mean difference between the Zwanenburg and Schagen location. Now the question is whether there is sample selection bias. And indeed there is and that is caused by the fact that humans react on their own situation based upon their preferences. In this case, they react by means of moving residence. So, those who have strong negative preference regarding aircraft noise are the first to move out Zwanenburg (if possible). So the population in both locations is not identical, instead they sorted spatially.</p></li>
<li><p><strong>Returns to education</strong>. The question here is rather straightforward and involved the monetary returns to an additional year of education. As empirical strategy we collect data of all employed workers in the Netherlands (actually this data exists and is called micro-data), including worker characteristics, years of education, and hourly wages. Our approach is here to regress <span class="math inline">\(\ln(Earnings)\)</span> on <span class="math inline">\(YearsEducation\)</span> and a large set of other characteristics. Now, ignore issues of omitted variable bias and measurement error, then the question is: is there sample selection bias? And, indeed, there is again, as you only sample those people who are employed and not the unemployed (they have no current wage). And this leads to a different population than you wanted in the first place.</p></li>
</ol>
<p>In there there are some potential solutions to sample selection bias and most of them deal with data issues. For example, you might want to collect the sample in a way that avoids sample selection. For example you might want to focus on those people who moved between Schagen and Zwanenburg or you include the unemployed as well in the returns to education example.</p>
</section>
<section id="simultaneous-causality-bias-in-equations" class="level4" data-number="4.3.2.5">
<h4 data-number="4.3.2.5" class="anchored" data-anchor-id="simultaneous-causality-bias-in-equations"><span class="header-section-number">4.3.2.5</span> Simultaneous causality bias in equations</h4>
<p>Finally, our last threat to causality is simultaneous or reverse causality bias. This means that the causal effect might go either way as in the following system</p>
<ul>
<li>Causal effect on <span class="math inline">\(Y\)</span> of <span class="math inline">\(X\)</span>: <span class="math inline">\(Y_i = \beta_0 + \beta_1 X_i + u_i\)</span></li>
<li>Causal effect on <span class="math inline">\(X\)</span> of <span class="math inline">\(Y\)</span>: <span class="math inline">\(X_i = \gamma_0 + \gamma_1 Y_i + v_i\)</span></li>
</ul>
<p>Where a large <span class="math inline">\(u_i\)</span> means a large <span class="math inline">\(Y_i\)</span>, which implies large <span class="math inline">\(X_i\)</span> (if <span class="math inline">\(\gamma_1&gt;0\)</span>) and therefore, by definition, <span class="math inline">\(corr(X_i,u_i) \neq 0\)</span>. Thus, <span class="math inline">\(\hat{\beta_1}\)</span> is biased and inconsistent. In our Californian school district example it might as well be that a district with particularly bad test scores given the <span class="math inline">\(STR\)</span> (negative <span class="math inline">\(u_i\)</span>) receives extra resources, thereby lowering its <span class="math inline">\(STR\)</span>; so <span class="math inline">\(STR_i\)</span> and <span class="math inline">\(u_i\)</span> are then correlated</p>
<p>There are some potential solutions to simultaneous causality bias</p>
<p>The first and always the best one is to conduct a randomized controlled experiment. Because,if <span class="math inline">\(X_i\)</span> is chosen at random by the experimenter, there is no feedback from the outcome variable to <span class="math inline">\(Y_i\)</span> (assuming perfect compliance). Secondly, you can develop and estimate a complete model of both directions of causality. This is the idea behind many large macro models (e.g.&nbsp;those of the Federal Reserve Bank in the US). This is difficult in practice. Finally, you can use instrumental variables regression again to estimate the causal effect of interest (effect of <span class="math inline">\(X\)</span> on <span class="math inline">\(Y\)</span>, ignoring effect of <span class="math inline">\(Y\)</span> on <span class="math inline">\(X\)</span>). But that is not for this course.</p>
</section>
</section>
</section>
<section id="sec:conclusionspec" class="level2" data-number="4.4">
<h2 data-number="4.4" class="anchored" data-anchor-id="sec:conclusionspec"><span class="header-section-number">4.4</span> Concluding remarks</h2>


<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list" style="display: none">
<div id="ref-mcelreath2020statistical" class="csl-entry" role="listitem">
McElreath, Richard. 2020. <em>Statistical Rethinking: A Bayesian Course with Examples in r and Stan</em>. Chapman; Hall/CRC.
</div>
<div id="ref-stock2003introduction" class="csl-entry" role="listitem">
Stock, James H, Mark W Watson, et al. 2003. <em>Introduction to Econometrics</em>. Vol. 104. Addison Wesley Boston.
</div>
</div>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./multivariate.html" class="pagination-link" aria-label="Modeling in the Social Sciences">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Modeling in the Social Sciences</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./conclusion.html" class="pagination-link" aria-label="In conclusion">
        <span class="nav-page-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">In conclusion</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>